diff --git a/gcc/config/h8300/constraints.md b/gcc/config/h8300/constraints.md
index 3aef1205fef..cbb5b5efc6d 100644
--- a/gcc/config/h8300/constraints.md
+++ b/gcc/config/h8300/constraints.md
@@ -59,7 +59,7 @@ (define_register_constraint "c" "COUNTER_REGS"
 (define_register_constraint "d"
   "(!flag_omit_frame_pointer && !reload_completed
     ? NO_REGS
-    : (frame_pointer_needed && reload_in_progress
+    : (frame_pointer_needed && lra_in_progress
        ? NO_REGS
        : DESTINATION_REGS))"
   "@internal")
@@ -171,12 +171,12 @@ (define_constraint "T"
 (define_constraint "U"
   "An operand valid for a bset destination."
   (ior (and (match_code "reg")
-	    (match_test "(reload_in_progress || reload_completed)
+	    (match_test "(lra_in_progress || reload_completed)
 			 ? REG_OK_FOR_BASE_STRICT_P (op)
 			 : REG_OK_FOR_BASE_P (op)"))
        (and (match_code "mem")
 	    (match_code "reg" "0")
-	    (match_test "(reload_in_progress || reload_completed)
+	    (match_test "(lra_in_progress || reload_completed)
 			 ? REG_OK_FOR_BASE_STRICT_P (XEXP (op, 0))
 			 : REG_OK_FOR_BASE_P (XEXP (op, 0))"))
        (and (match_code "mem")
@@ -211,7 +211,7 @@ (define_constraint "Y2"
   (and (match_code "const_int")
        (match_test "exact_log2 (ival & 0xff) != -1")))
 
-(define_special_memory_constraint "Zz"
+(define_constraint "Zz"
   "@internal"
   (and (match_test "TARGET_H8300SX")
        (match_code "mem")
diff --git a/gcc/config/h8300/h8300.cc b/gcc/config/h8300/h8300.cc
index 7412c0535fc..cdf74c1acbd 100644
--- a/gcc/config/h8300/h8300.cc
+++ b/gcc/config/h8300/h8300.cc
@@ -5625,9 +5625,6 @@ pre_incdec_with_reg (rtx op, unsigned int reg)
 #undef TARGET_MODES_TIEABLE_P
 #define TARGET_MODES_TIEABLE_P h8300_modes_tieable_p
 
-#undef TARGET_LRA_P
-#define TARGET_LRA_P hook_bool_void_false
-
 #undef TARGET_LEGITIMATE_ADDRESS_P
 #define TARGET_LEGITIMATE_ADDRESS_P	h8300_legitimate_address_p
 
