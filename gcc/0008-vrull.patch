diff --git a/gcc/config/riscv/riscv.cc b/gcc/config/riscv/riscv.cc
index 7d723fc4d695..fa7a87d0eef8 100644
--- a/gcc/config/riscv/riscv.cc
+++ b/gcc/config/riscv/riscv.cc
@@ -14219,7 +14219,7 @@ riscv_extend_to_xmode_reg (rtx x, machine_mode mode, enum rtx_code rcode)
   else if (mode == Xmode)
     return x;
   else
-    riscv_emit_unary (rcode, xmode_reg, x);
+    return convert_modes (Xmode, mode, x, rcode == ZERO_EXTEND);
 
   return xmode_reg;
 }
