diff --git a/gcc/config/sh/sh.md b/gcc/config/sh/sh.md
index 93ee7c9a7de..d349be34276 100644
--- a/gcc/config/sh/sh.md
+++ b/gcc/config/sh/sh.md
@@ -8391,6 +8391,15 @@
     gcc_unreachable ();
 })
 
+(define_peephole2
+  [(set (match_operand:SI 0 "register_operand" "")
+	(reg:SI T_REG))
+   (set (match_operand:SI 1 "register_operand" "")
+	(neg:SI (match_dup 0)))]
+  "TARGET_SH1"
+  [(parallel [(set (match_operand:SI 1) (neg:SI (reg:SI T_REG)))
+	      (clobber (reg:SI T_REG))])])
+
 ;; Store (negated) T bit as all zeros or ones in a reg.
 ;;	subc	Rn,Rn	! Rn = Rn - Rn - T; T = T
 ;;	not	Rn,Rn	! Rn = 0 - Rn
